# 예제 5: 통계학과 신입생 51명의 키와 몸무게 데이터를 사용하여
# 두 변수 간의 관계(상관계수)를 분석하고, 시각화한다. (p.108)

import numpy as np
import matplotlib.pyplot as plt

# 학생 51명의 키(cm) 데이터
height = np.array([
    181, 161, 170, 160, 158, 168, 162, 179, 183, 178, 171, 177, 163,
    158, 160, 160, 158, 173, 160, 163, 167, 165, 163, 173, 178, 170,
    167, 177, 175, 169, 152, 158, 160, 160, 159, 180, 169, 162, 178,
    173, 173, 171, 171, 170, 160, 167, 168, 166, 164, 173, 180
])

# 같은 학생들의 몸무게(kg) 데이터
weight = np.array([
    78, 49, 52, 53, 50, 57, 53, 54, 71, 73, 55, 73, 51, 53, 65, 48, 59,
    64, 48, 53, 78, 45, 56, 70, 68, 59, 55, 64, 59, 55, 38, 45, 50, 46,
    50, 63, 71, 52, 74, 52, 61, 65, 68, 57, 47, 48, 58, 59, 55, 74, 74
])

# 키와 몸무게 사이의 표본 상관계수 계산
correlation = np.corrcoef(height, weight)[0][1]
print(f"표본 상관계수 r = {correlation:.4f}")


# 산점도 그리기
plt.figure(figsize=(8, 6))  # 그래프 크기 설정 (가로 8인치, 세로 6인치)
plt.scatter(height, weight, color='slateblue')  # 산점도 점 색상 지정

# 축 이름 및 제목 설정
plt.xlabel('키 (cm)')           # x축 레이블
plt.ylabel('몸무게 (kg)')       # y축 레이블
plt.title('키와 몸무게의 산점도')  # 그래프 제목

plt.grid(True)  # 배경에 보조선 표시
plt.show()
